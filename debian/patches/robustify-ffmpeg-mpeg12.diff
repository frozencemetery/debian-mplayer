--- mplayer-1.0~rc1/libavcodec/mpeg12.c	2006-10-23 00:32:34.000000000 +0200
+++ mplayer-1.0~rc1-8-build/libavcodec/mpeg12.c	2006-12-16 21:51:02.000000000 +0100
@@ -2579,7 +2579,11 @@
         }
     }
 
-    for(;;) {
+    if(s->current_picture.mb_type==NULL) {
+      av_log(s->avctx, AV_LOG_ERROR, "mb_type==NULL in %d frame at %d %d .\n", s->pict_type, s->mb_x, s->mb_y);
+      return -1;
+    } else
+      for(;;) {
 #ifdef HAVE_XVMC
         //one 1 we memcpy blocks in xvmcvideo
         if(s->avctx->xvmc_acceleration > 1)
